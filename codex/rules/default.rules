prefix_rule(pattern=["gh", "pr", "view"], decision="allow")
prefix_rule(pattern=["git", "push", "origin"], decision="allow")
prefix_rule(pattern=["git", "push", "-u", "origin"], decision="allow")
prefix_rule(pattern=["gh", "pr", "create"], decision="allow")
prefix_rule(pattern=["npm", "view", "prettier"], decision="allow")
prefix_rule(pattern=["npx", "prettier@3.8.1", "--write"], decision="allow")
prefix_rule(pattern=["gh", "pr", "edit"], decision="allow")
prefix_rule(pattern=["gh", "pr", "checks"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/toast-ninja/backend/commits/codex/prettier-3-upgrade/check-runs"], decision="allow")
prefix_rule(pattern=["curl", "-Ls", "https://circleci.com/gh/toast-ninja/backend/4593"], decision="allow")
prefix_rule(pattern=["curl", "-Ls", "https://circleci.com/api/v1.1/project/github/toast-ninja/backend/4593"], decision="allow")
prefix_rule(pattern=["npm", "ci"], decision="allow")
prefix_rule(pattern=["npm", "install", "--save-dev", "prettier@3.8.1"], decision="allow")
prefix_rule(pattern=["git", "push", "--no-verify", "origin"], decision="allow")
prefix_rule(pattern=["curl", "-Ls", "https://circleci.com/api/v2/project/gh/toast-ninja/backend/job/4594"], decision="allow")
prefix_rule(pattern=["curl", "-Ls", "https://circleci.com/api/v2/project/github/toast-ninja/backend/job/4594"], decision="allow")
prefix_rule(pattern=["curl", "-Ls", "https://circleci.com/api/v2/workflow/7920018d-bf03-4e8f-9767-154d673a3835/job"], decision="allow")
prefix_rule(pattern=["curl", "-Ls", "https://circleci.com/api/v1.1/project/gh/toast-ninja/backend/4594/output"], decision="allow")
prefix_rule(pattern=["curl", "-Ls", "https://circleci.com/api/v2/workflow/7920018d-bf03-4e8f-9767-154d673a3835"], decision="allow")
prefix_rule(pattern=["npm", "install"], decision="allow")
prefix_rule(pattern=["gh", "repo", "create"], decision="allow")
prefix_rule(pattern=["git", "push"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/Restuta/hevy-ai-codex/pulls/1/comments", "--paginate"], decision="allow")
prefix_rule(pattern=["gh", "auth", "status"], decision="allow")
prefix_rule(pattern=["python3", "/Users/restuta/.codex/skills/gh-address-comments/scripts/fetch_comments.py"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/Restuta/hevy-ai-codex/pulls/1/comments/2779533888/replies", "-f", "body=Fixed in 787e951: observed timestamps are now canonicalized to UTC with toISOString() during probe normalization."], decision="allow")
prefix_rule(pattern=["npm", "view", "@biomejs/biome"], decision="allow")
prefix_rule(pattern=["gh", "pr", "merge"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/Restuta/hevy-ai-codex/pulls/5/comments", "--paginate"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/Restuta/hevy-ai-codex/pulls/5/comments/2781636679/replies", "-f", "body=Addressed in 56df78d: parser now detects conflicting from/to units (e.g. lb vs kg) and returns no loadChange so the planner asks for clarification."], decision="allow")
prefix_rule(pattern=["git", "pull", "--rebase", "origin", "main"], decision="allow")
prefix_rule(pattern=["gh", "pr", "list", "--state", "open", "--json", "number,title,headRefName,baseRefName,url"], decision="allow")
prefix_rule(pattern=["gh", "pr", "list"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/Restuta/hevy-ai-codex/pulls/6/comments", "--paginate"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/Restuta/hevy-ai-codex/pulls/6/comments"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/Restuta/hevy-ai-codex/rulesets", "--paginate"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/Restuta/hevy-ai-codex/pulls"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/Restuta/hevy-ai-codex/rulesets"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "PUT", "repos/Restuta/hevy-ai-codex/rulesets"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/Restuta/hevy-ai-codex/rulesets"], decision="allow")
prefix_rule(pattern=["git", "branch"], decision="allow")
prefix_rule(pattern=["git", "cherry-pick"], decision="allow")
prefix_rule(pattern=["git", "pull"], decision="allow")
prefix_rule(pattern=["git", "rebase"], decision="allow")
prefix_rule(pattern=["git", "fetch"], decision="allow")
prefix_rule(pattern=["git", "commit"], decision="allow")
prefix_rule(pattern=["git", "add"], decision="allow")
prefix_rule(pattern=["git", "switch"], decision="allow")
prefix_rule(pattern=["git", "checkout"], decision="allow")
prefix_rule(pattern=["gh", "pr"], decision="allow")
prefix_rule(pattern=["gh", "repo", "view"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/Restuta/hevy-ai-codex"], decision="allow")
prefix_rule(pattern=["git", "rm", "docs/snippets/session-store-patterns.md", "src/channels/telegram/runtime/poller.ts", "src/scripts/telegram-bot-dev.ts", "tests/integrations/telegram/poller.test.ts"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=query{viewer{login}}"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=query { repository(owner:\"Restuta\", name:\"hevy-ai-codex\") { pullRequest(number:7) { reviewThreads(first:100) { nodes { id isResolved isOutdated path } } } } }"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=mutation($threadId: ID!, $body: String!) { addPullRequestReviewThreadReply(input: { pullRequestReviewThreadId: $threadId, body: $body }) { comment { id url } } }", "-f", "threadId=PRRT_kwDORLhH-s5tfMon", "-f", "body=Good point. Telegram supports webhooks. This polling loop is intentional for local and dev smoke tests where no public callback URL is guaranteed. Clarified inline in 89188c6. Production ingress should move to webhook runtime."], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=mutation($threadId: ID!) { resolveReviewThread(input: { threadId: $threadId }) { thread { id isResolved } } }", "-f", "threadId=PRRT_kwDORLhH-s5tfNfJ"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=mutation($threadId: ID!) { resolveReviewThread(input: { threadId: $threadId }) { thread { id isResolved } } }", "-f", "threadId=PRRT_kwDORLhH-s5tfNMY"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=mutation($threadId: ID!) { resolveReviewThread(input: { threadId: $threadId }) { thread { id isResolved } } }", "-f", "threadId=PRRT_kwDORLhH-s5tfMon"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=mutation($threadId: ID!, $body: String!) { addPullRequestReviewThreadReply(input: { pullRequestReviewThreadId: $threadId, body: $body }) { comment { id url } } }", "-f", "threadId=PRRT_kwDORLhH-s5tfNfJ", "-f", "body=Agreed. Logger strategy is that runtime logic accepts an injected logger interface while entry scripts bind a concrete logger once. In 89188c6 this script now uses a single logger variable backed by console and passes it through consistently."], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=mutation($threadId: ID!, $body: String!) { addPullRequestReviewThreadReply(input: { pullRequestReviewThreadId: $threadId, body: $body }) { comment { id url } } }", "-f", "threadId=PRRT_kwDORLhH-s5tfNMY", "-f", "body=Added file level purpose comment in 89188c6. This script is a local and dev entrypoint for end to end Telegram dry run smoke tests with graceful SIGINT and SIGTERM shutdown."], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=query { repository(owner:\"Restuta\", name:\"hevy-ai-codex\") { pullRequest(number:7) { reviewThreads(first:100) { nodes { id isResolved path } } } } }"], decision="allow")
prefix_rule(pattern=["codex", "mcp"], decision="allow")
prefix_rule(pattern=["brew", "install", "railway"], decision="allow")
prefix_rule(pattern=["npx", "-y", "@railway/mcp-server"], decision="allow")
prefix_rule(pattern=["codex", "resume"], decision="allow")
prefix_rule(pattern=["codex"], decision="allow")
prefix_rule(pattern=["railway", "link"], decision="allow")
prefix_rule(pattern=["curl", "-sS", "-i"], decision="allow")
prefix_rule(pattern=["railway"], decision="allow")
prefix_rule(pattern=["railway", "status", "--json"], decision="allow")
prefix_rule(pattern=["railway", "deployment", "list"], decision="allow")
prefix_rule(pattern=["npm", "run", "test"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql"], decision="allow")
prefix_rule(pattern=["sqlite3", "~/.codex/sqlite/codex-dev.db", ".tables"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "which codex && strings $(which codex) | rg -n \"prefix_rule|cwd|project|rules|decision\" | head -n 120"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "strings $(which codex) | rg -n \"execpolicy|prefix_rule\\(|requestApproval|approval|rules file|default.rules|exec policy|pattern\" | head -n 200"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "cp ~/.codex/rules/default.rules ~/.codex/rules/default.rules.bak-$(date +%Y%m%d%H%M%S) && grep -v '^prefix_rule(pattern=\\[\"gh\"\\], decision=\"allow\")$' ~/.codex/rules/default.rules > ~/.codex/rules/default.rules.tmp && mv ~/.codex/rules/default.rules.tmp ~/.codex/rules/default.rules"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "if ! rg -qx 'prefix_rule\\(pattern=\\[\"gh\"\\], decision=\"allow\"\\)' ~/.codex/rules/default.rules; then printf 'prefix_rule(pattern=[\"gh\"], decision=\"allow\")\\n' >> ~/.codex/rules/default.rules; fi; echo 'global:'; rg -n '^prefix_rule\\(pattern=\\[\"gh\"\\], decision=\"allow\"\\)$' ~/.codex/rules/default.rules; echo 'local:'; rg -n '^prefix_rule\\(pattern=\\[\"gh\"\\], decision=\"allow\"\\)$' /Users/restuta/Projects/hevy-ai/codex/.codex/rules/default.rules"], decision="allow")
prefix_rule(pattern=["gh"], decision="allow")
prefix_rule(pattern=["git"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "tmpfile=$(mktemp); gh pr view 9 --json body --jq .body > \"$tmpfile\"; sed -i '' 's/^## Test Plan$/## Test plan/' \"$tmpfile\"; gh pr edit 9 --body-file \"$tmpfile\"; rm -f \"$tmpfile\"; gh pr view 9 --json body --jq .body | rg -n '^## Test'"], decision="allow")
prefix_rule(pattern=["jq", "[.data.repository.pullRequest.reviewThreads.nodes[] | select(.isResolved == false)] | length"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "for i in 1 2 3 4 5 6; do echo \"--- poll $i ---\"; gh pr checks 9 || true; sleep 12; done"], decision="allow")
prefix_rule(pattern=["jq"], decision="allow")
prefix_rule(pattern=["git", "restore", "--worktree", "src"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "for i in 1 2 3 4 5 6 7 8 9 10; do echo \"--- poll $i ---\"; gh pr checks 9 || true; sleep 10; done"], decision="allow")
prefix_rule(pattern=["ping", "-c", "2", "api.telegram.org"], decision="allow")
prefix_rule(pattern=["python3", "-m", "pip", "install", "--user", "--break-system-packages", "pyyaml"], decision="allow")
prefix_rule(pattern=["python3", "/Users/restuta/.codex/skills/.system/skill-creator/scripts/init_skill.py", "pr-review", "--path", "/Users/restuta/.codex/skills", "--resources", "scripts,references", "--interface", "display_name=PR Review", "--interface", "short_description=Review PRs with severity-first findings", "--interface", "default_prompt=Use $pr-review to perform a rigorous pull request review with findings ordered by severity, explicit risks, and required follow-up tests."], decision="allow")
prefix_rule(pattern=["brew", "install", "pngpaste"], decision="allow")
prefix_rule(pattern=["python3", "/Users/restuta/.codex/skills/.system/skill-creator/scripts/quick_validate.py", "/Users/restuta/.codex/skills/refactor-pass"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-F", "owner=toast-ninja", "-F", "repo=backend", "-F", "number=1105", "-f", "query=query($owner:String!,$repo:String!,$number:Int!){ repository(owner:$owner,name:$repo){ pullRequest(number:$number){ number url title reviewThreads(first:100){ nodes{ id isResolved isOutdated path line comments(first:20){ nodes{ id body author{login} createdAt url } } } } reviews(first:100){ nodes{ id author{login} body state submittedAt url } } comments(first:100){ nodes{ id author{login} body createdAt url } } } } }"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/toast-ninja/backend/pulls/1105/comments", "--paginate"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/toast-ninja/backend/pulls/1105/comments/2778569764/replies", "-f", "body=codex: Addressed in 6182bcdd. _current.json now uses wrapped default values for isAdmin, isToastInstaller, and deliverToastAt as {\"value\": ...} to match canonical schema format and avoid false migration diffs."], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/toast-ninja/backend/pulls/1105/comments/2792642634/replies", "-f", "body=codex: Addressed in 6182bcdd. Updated indentation in user-config model to match surrounding tab-based indentation and aligned isAdmin/isToastInstaller/deliverToastAt fields with existing style."], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-F", "owner=toast-ninja", "-F", "repo=backend", "-F", "number=1105", "-f", "query=query($owner:String!,$repo:String!,$number:Int!){ repository(owner:$owner,name:$repo){ pullRequest(number:$number){ reviewThreads(first:100){ nodes{ id isResolved isOutdated path line comments(first:20){ nodes{ author{login} body url createdAt } } } } } } }"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/toast-ninja/backend/pulls/1104/comments", "--paginate"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-F", "owner=toast-ninja", "-F", "repo=backend", "-F", "number=1104", "-f", "query=query($owner:String!,$repo:String!,$number:Int!){ repository(owner:$owner,name:$repo){ pullRequest(number:$number){ reviewThreads(first:100){ nodes{ id isResolved isOutdated path line comments(first:20){ nodes{ id author{login} body url createdAt } } } } } } }"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/toast-ninja/backend/pulls/1104/comments/2778520383/replies", "-f", "body=codex: Addressed in 19e5cd1e. The PR now upgrades `prettier` to `^3.8.1` and aligns related ESLint/Prettier deps (`eslint@^8.57.1`, `eslint-plugin-prettier@^5.5.5`, `eslint-config-prettier@^9.1.2`) in both package manifests."], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "echo \"pid=$$ shell=$SHELL\" && gh api rate_limit --jq '.resources.core.remaining'"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "for i in 1 2 3 4 5 6 7 8 9 10 11 12; do echo \"--- poll $i ---\"; gh run view 21902578141 --repo Restuta/hevy-ai-codex --json status,conclusion,url,jobs | jq '{status, conclusion, url, jobs: [.jobs[] | {name, status, conclusion, steps: [.steps[] | {name, status, conclusion}]}]}' ; status=$(gh run view 21902578141 --repo Restuta/hevy-ai-codex --json status --jq .status); if [ \"$status\" = \"completed\" ]; then break; fi; sleep 10; done"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "for i in 1 2 3 4 5 6 7 8 9 10; do echo \"--- PR13 poll $i ---\"; gh pr checks 13 --repo Restuta/hevy-ai-codex || true; sleep 12; done"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "for i in 1 2 3 4 5 6 7 8; do echo \"--- validate poll $i ---\"; gh pr checks 13 --repo Restuta/hevy-ai-codex || true; sleep 8; done"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-F", "owner=toast-ninja", "-F", "repo=backend", "-F", "number=1104", "-f", "query=query($owner:String!,$repo:String!,$number:Int!){ repository(owner:$owner,name:$repo){ pullRequest(number:$number){ reviewThreads(first:100){ nodes{ id isResolved isOutdated path comments(first:20){ nodes{ author{login} body url } } } } } } }"], decision="allow")
prefix_rule(pattern=["git", "worktree", "add", "/tmp/toast-backend-pr1102", "av/fix-toast-slowness"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "TOKEN='5acc03f8-2c52-409d-b279-b6897606e3dc'; SHA='fdf35aef7f1da056eb2b1a93d9438da1299534f5'; RAILWAY_API_TOKEN=\"$TOKEN\" railway deployment list -e production -s hevy-ai-codex --limit 200 --json | jq -r --arg sha \"$SHA\" '.[] | select((.meta.commitHash // \"\") == $sha) | [.id,.status,.createdAt] | @tsv'"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "TOKEN='5acc03f8-2c52-409d-b279-b6897606e3dc'; RAILWAY_API_TOKEN=\"$TOKEN\" railway deployment list -e production -s hevy-ai-codex --limit 10 --json | jq -r '.[] | [.createdAt,.status, (.meta.commitHash // \"\"), .id] | @tsv'"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-F", "owner=toast-ninja", "-F", "repo=backend", "-F", "number=1102", "-f", "query=query($owner:String!,$repo:String!,$number:Int!){ repository(owner:$owner,name:$repo){ pullRequest(number:$number){ reviewThreads(first:100){ nodes{ id isResolved isOutdated path line comments(first:40){ nodes{ id author{login} body url createdAt } } } } } } }"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "TOKEN='5acc03f8-2c52-409d-b279-b6897606e3dc'; SHA='fdf35aef7f1da056eb2b1a93d9438da1299534f5'; RAILWAY_API_TOKEN=\"$TOKEN\" railway deployment list -e production -s hevy-ai-codex --limit 200 --json | jq -r --arg sha \"$SHA\" '.[] | select((.meta.commitHash // \"\") == $sha) | [.id,.status,.createdAt,.updatedAt] | @tsv'"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "TOKEN='5acc03f8-2c52-409d-b279-b6897606e3dc'; tmp=$(mktemp -d); cd \"$tmp\"; RAILWAY_API_TOKEN=\"$TOKEN\" railway link --project 3d547b6e-464a-47c6-befe-9286cbc0842b --environment production --service hevy-ai-codex >/dev/null; RAILWAY_API_TOKEN=\"$TOKEN\" railway status --json"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "TOKEN='5acc03f8-2c52-409d-b279-b6897606e3dc'; SHA='fdf35aef7f1da056eb2b1a93d9438da1299534f5'; RAILWAY_API_TOKEN=\"$TOKEN\" railway deployment list -e production -s hevy-ai-codex --limit 100 --json | jq --arg sha \"$SHA\" '[.[] | select((.meta.commitHash // \"\") == $sha)][0]'"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "TOKEN='5acc03f8-2c52-409d-b279-b6897606e3dc'; SHA='fdf35aef7f1da056eb2b1a93d9438da1299534f5'; RAILWAY_API_TOKEN=\"$TOKEN\" railway deployment list -e production -s hevy-ai-codex --limit 50 --json | jq -r --arg sha \"$SHA\" '.[] | select((.meta.commitHash // \"\") == $sha) | [.status, (.meta.serviceManifest.build.buildCommand|tostring), (.meta.serviceManifest.deploy.startCommand|tostring)] | @tsv'"], decision="allow")
prefix_rule(pattern=["set", "-e"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-F", "owner=toast-ninja", "-F", "repo=backend", "-F", "number=1102", "-f", "query=query($owner:String!,$repo:String!,$number:Int!){ repository(owner:$owner,name:$repo){ pullRequest(number:$number){ reviewThreads(first:100){ nodes{ id isResolved isOutdated path comments(last:1){ nodes{ author{login} url } } } } } } }"], decision="allow")
prefix_rule(pattern=["gh", "api", "repos/toast-ninja/backend/pulls/1102/comments", "--paginate"], decision="allow")
prefix_rule(pattern=["gh", "api", "-X", "POST", "repos/toast-ninja/backend/pulls/1102/comments/2793284847/replies", "-f", "body=codex: Addressed in 51422318. Tightened deletion scope to avoid workspace-wide data removal: user_configs are now selected only by github_user_id in the target org, and slack_auth/slack_users deletes are scoped by users_to_delete (not by shared workspace IDs). Workspace-level table deletes were removed from this script to avoid cross-org impact."], decision="allow")
prefix_rule(pattern=["rm", "-f", "/Users/restuta/Projects/hevy-ai/codex/.git/worktrees/codex-release-notify-fix/index.lock"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-f", "query=mutation($threadId:ID!){ resolveReviewThread(input:{threadId:$threadId}){ thread{ id isResolved } } }", "-f", "threadId=PRRT_kwDOCIV3Os5tTbKB"], decision="allow")
prefix_rule(pattern=["npm", "run", "hevy:api-snapshot"], decision="allow")
prefix_rule(pattern=["curl", "-sS", "https://api.hevyapp.com/docs/swagger-ui-init.js"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "curl -sS https://api.hevyapp.com/docs/swagger-ui-init.js > /tmp/hevy-swagger-init.js && tail -n 120 /tmp/hevy-swagger-init.js"], decision="allow")
prefix_rule(pattern=["npm", "run", "hevy:openapi"], decision="allow")
prefix_rule(pattern=["python3", "/Users/restuta/.codex/skills/.system/skill-creator/scripts/generate_openai_yaml.py", "/Users/restuta/.codex/skills/pr-review", "--interface", "display_name=PR Review", "--interface", "short_description=Review PRs with severity-first findings", "--interface", "default_prompt=Use $pr-review to perform a rigorous pull request review with findings ordered by severity, explicit risks, required follow-up tests, and codex:-prefixed GitHub comments."], decision="allow")
prefix_rule(pattern=["rm", "-f", "docs/pr-review-skill-draft.md"], decision="allow")
prefix_rule(pattern=["/opt/homebrew/bin/zsh", "-lc", "cd /Users/restuta/Projects/hevy-ai/codex && for i in 1 2 3 4; do echo \"poll $i\"; gh pr checks 21 || true; sleep 6; done"], decision="allow")
prefix_rule(pattern=["rm", "-f", "src/lib/github/github-webhooks-cache-allowlist.js", "src/lib/github/_test/github-webhooks-cache-allowlist.test.js"], decision="allow")
prefix_rule(pattern=["git", "worktree", "add"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "add", "docs/tasks"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "fetch", "origin", "master"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "push", "origin", "HEAD:codex/fix-toast-slowness-task-doc"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "add", "docs/tasks/task/2026-02-04-fix-toast-slowness/2026-02-04-fix-toast-slowness.md"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-F", "owner=toast-ninja", "-F", "repo=backend", "-F", "number=1103", "-f", "query=query($owner:String!,$repo:String!,$number:Int!){ repository(owner:$owner,name:$repo){ pullRequest(number:$number){ reviewThreads(first:100){ nodes{ id isResolved isOutdated path line comments(last:1){ nodes{ author{login} body url } } } } } } }"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "add", "docs/tasks/task/2026-02-04-fix-toast-slowness/2026-02-04-fix-toast-slowness.plan_FINAL.md"], decision="allow")
prefix_rule(pattern=["gh", "api", "graphql", "-F", "owner=toast-ninja", "-F", "repo=backend", "-F", "number=1103", "-f", "query=query($owner:String!,$repo:String!,$number:Int!){ repository(owner:$owner,name:$repo){ pullRequest(number:$number){ reviewThreads(first:100){ nodes{ id isResolved isOutdated path } } } } }"], decision="allow")
prefix_rule(pattern=["jq", "-r", ".[] | \"#\\(.number) \\(.headRefName) -> \\(.baseRefName) | \\(.title) | \\(.url)\" | select(test(\"1103\")|not)"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "checkout", "-B", "codex/fix-toast-slowness-phase-1", "origin/master"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "add", "src/lib/github/github-webhooks-cache-allowlist.js", "src/lib/github/_test/github-webhooks-cache-allowlist.test.js", "src/proc/web/index.js", "src/proc/to-process-jobs/job-processors/github-webhooks-cache/jobs.config.js"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "push", "-u", "origin", "codex/fix-toast-slowness-phase-1"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "commit", "-m", "docs: track phase 1 PR progress in FINAL plan"], decision="allow")
prefix_rule(pattern=["git", "-C", "/tmp/toast-pr1103-work", "push"], decision="allow")
prefix_rule(pattern=["rm", "-f", "/tmp/toast-pr1103-work/.pr_phase1_body.md"], decision="allow")
prefix_rule(pattern=["git", "restore", "--worktree", "src/lib/github/github-webhooks-cache-allowlist.js", "src/lib/github/_test/github-webhooks-cache-allowlist.test.js"], decision="allow")
